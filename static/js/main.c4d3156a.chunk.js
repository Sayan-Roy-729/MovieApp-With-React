(this.webpackJsonpreact1=this.webpackJsonpreact1||[]).push([[0],{21:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a(1),n=a(12),i=a(30),r=a.n(i),l=a(4),o=a(5),d=a(7),h=a(6),j=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-purple fixed-top",children:Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsx)("a",{className:"navbar-brand text-white",href:"#",children:"Popcorn"}),Object(s.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(s.jsx)("span",{className:"navbar-toggler-icon"})}),Object(s.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(s.jsxs)("ul",{className:"navbar-nav",children:[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(n.b,{className:"nav-link active text-white","aria-current":"page",to:"/",children:"Home"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)("a",{className:"nav-link text-white",href:"#",children:"Recommend"})})]})})]})})})}}]),a}(c.Component),m=(a(21),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"card mt-3 height-500",children:[Object(s.jsx)("img",{src:"http://image.tmdb.org/t/p/w500/"+this.props.path,className:"card-img-top image-height-300",alt:"..."}),Object(s.jsxs)("div",{className:"card-body d-flex flex-column justify-content-center align-content-end",children:[Object(s.jsx)("h3",{className:"card-title",children:Object(s.jsx)("b",{children:this.props.name})}),Object(s.jsxs)("p",{className:"card-text",children:[this.props.overview,Object(s.jsx)("span",{className:"text-muted",children:"........"})]}),Object(s.jsx)(n.b,{to:"/details/"+this.props.id,className:"btn bg-purple btn-block text-white",children:"View Details"})]})]})})}}]),a}(c.Component)),b=a(13),v=a.n(b),u=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={totalPages:[]},e}return Object(o.a)(a,[{key:"render",value:function(){for(var e=this,t=[],a=1;a<=20;a++)t.push(a);return Object(s.jsx)("div",{children:Object(s.jsx)("nav",{"aria-label":"Page navigation example",children:Object(s.jsx)("ul",{className:"pagination justify-content-center",children:t.map((function(t,a){return Object(s.jsx)("li",{className:"page-item",children:Object(s.jsx)("a",{className:"page-link",href:"#",onClick:e.props.pagenumber,children:t})})}))})})})}}]),a}(c.Component),p=function(e){return Object(s.jsx)("div",{className:"ui active dimmer",children:Object(s.jsx)("div",{className:"ui big text loader",children:e.message})})};p.defaultProps={message:"Loading..."};var O=p,x=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={movies:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;v.a.get("https://api.themoviedb.org/3/movie/top_rated?api_key=8265bd1679663a7ea12ac168da84d2e8&language=en-US&page="+t).then((function(t){e.setState({movies:t.data.results})})).catch((function(e){console.log(e)}))}},{key:"changePageNumber",value:function(e){e.preventDefault();var t=Number(e.target.innerHTML);this.componentDidMount(t)}},{key:"movieID",value:function(){console.log("Movie Id Console")}},{key:"search",value:function(e){e.preventDefault();var t=document.querySelector("#serach-movie").value;""!==t?this.props.history.push("/search/"+t):alert("Please enter movie name")}},{key:"render",value:function(){var e=Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"jumbotron jumbotron-fluid",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("h1",{className:"display-2",children:"Welcome to Popcorn"}),Object(s.jsx)("p",{className:"display-4",children:"A onestop place where you can have every info about all of you fouruite movies."}),Object(s.jsxs)("form",{action:"/search",method:"get",onSubmit:this.search.bind(this),children:[Object(s.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"search any movie...",id:"serach-movie"}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{className:"btn btn-dark btn-lg float-right",type:"submit",children:"Search"})]})]})}),Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-12",children:[Object(s.jsx)(u,{pagenumber:this.changePageNumber.bind(this)}),Object(s.jsx)("h3",{children:Object(s.jsx)("b",{children:"Top Movies"})})]}),Object(s.jsx)("div",{className:"row",children:this.state.movies.map((function(e,t){return Object(s.jsx)("div",{className:"col-3",children:Object(s.jsx)(m,{name:e.title,overview:e.overview.substr(0,80),path:e.poster_path,id:e.id})})}))})]})})]});return 0===this.state.movies.length?Object(s.jsx)(O,{}):e}}]),a}(c.Component),g=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={details:{},keywords:[],recommend:[],movieID:null},e}return Object(o.a)(a,[{key:"apiCall",value:function(e){var t=this;v.a.get("https://api.themoviedb.org/3/movie/"+e+"?api_key=8265bd1679663a7ea12ac168da84d2e8&language=en-US").then((function(e){var a=t.state.recommend;console.log(e.data),t.setState({details:e.data,keywords:e.data.genres,recommend:a})})).catch((function(e){console.log(e)})),v.a.get("https://api.themoviedb.org/3/movie/"+e+"/similar?api_key=8265bd1679663a7ea12ac168da84d2e8&language=en-US&page=1").then((function(e){var a=t.state.details,s=t.state.keywords,c=e.data;t.setState({dertails:a,keywords:s,recommend:c.results}),window.scroll(0,0)})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.setState({movieID:e}),this.apiCall(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props.match.params.id;e.match.params.id!==this.props.match.params.id&&this.apiCall(t)}},{key:"render",value:function(){var e=this.props.location.pathname.split("/")[3];e!==this.state.movieID&&this.setState({movieID:e});var t=new Date(this.state.details.release_date);t=t.getFullYear();var a=Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"jumbotron jumbotron-fluid",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"row mt-3",children:[Object(s.jsx)("div",{className:"col-3",children:Object(s.jsx)("img",{src:"http://image.tmdb.org/t/p/w500/"+this.state.details.poster_path,className:"card-img-top border",alt:"..."})}),Object(s.jsxs)("div",{className:"col-9",children:[Object(s.jsxs)("h1",{className:"display-4",children:[this.state.details.title," ",t]}),Object(s.jsxs)("p",{children:[this.state.details.release_date," ",Object(s.jsx)("i",{className:"fas fa-circle font-5"})," ",this.state.keywords.map((function(e,t){return Object(s.jsxs)("span",{children:[" ",e.name," "]},t)}))," ",Object(s.jsx)("i",{className:"fas fa-circle font-5"})," ",this.state.details.runtime," mins"]}),Object(s.jsxs)("h3",{children:[Object(s.jsx)("i",{className:"fas fa-star"})," ",this.state.details.vote_average,"/10  ",Object(s.jsxs)("small",{className:"text-muted font-14",children:["Vote Count ",this.state.details.vote_count]})]}),Object(s.jsx)("p",{children:Object(s.jsx)("b",{children:this.state.details.tagline})}),Object(s.jsx)("h3",{children:"Overview"}),Object(s.jsx)("p",{className:"lead",children:this.state.details.overview})]})]})})}),Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-12",children:Object(s.jsxs)("h3",{className:"display-4",children:["Similar to ",this.state.details.title]})}),this.state.recommend.map((function(e,t){return Object(s.jsx)("div",{className:"col-3",children:Object(s.jsx)(m,{name:e.title,overview:e.overview.substr(0,80),path:e.poster_path,id:e.id})},t)}))]})})]});return 0===this.state.keywords.length?Object(s.jsx)(O,{}):a}}]),a}(c.Component),f=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={details:[]},e}return Object(o.a)(a,[{key:"movieSearch",value:function(e){var t=this;v.a.get("https://api.themoviedb.org/3/search/movie?api_key=8265bd1679663a7ea12ac168da84d2e8&language=en-US&query="+e+"&page=1&include_adult=false").then((function(e){var a=e.data.results;t.setState({details:a})})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this.props.match.params.term;this.movieSearch(e)}},{key:"render",value:function(){var e=Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row mt-3",children:Object(s.jsx)("div",{className:"col-12 mt-5",children:Object(s.jsxs)("h2",{className:"text-center",children:["Search results for ",this.props.match.params.term]})})})}),Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row",children:this.state.details.map((function(e,t){return Object(s.jsx)("div",{className:"col-3",children:Object(s.jsx)(m,{name:e.title,overview:e.overview.substr(0,80),path:e.poster_path,id:e.id})},t)}))})})]});return this.state.details.length>0?e:Object(s.jsx)(O,{})}}]),a}(c.Component),N=a(2),y=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={id:!0},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)(j,{}),Object(s.jsxs)(N.c,{children:[Object(s.jsx)(N.a,{path:"/",component:x,exact:!0}),Object(s.jsx)(N.a,{path:"/details/:id",component:g}),Object(s.jsx)(N.a,{path:"/search/:term",component:f})]})]})}}]),a}(c.Component);r.a.render(Object(s.jsx)(n.a,{children:Object(s.jsx)(y,{})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.c4d3156a.chunk.js.map